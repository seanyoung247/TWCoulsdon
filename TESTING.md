# Testing

[README.md](README.md)

## Contents

- [Automated Testing](#Automated-Testing)
  - [Validation](#Validation)
  - [Python unit tests](#Python-unit-tests)
- [Manual Testing](#Manual-Testing)
  - [Testing Environments](#Testing-Environments)
  - [Testing Methodology](#Testing-Methodology)
  - [Unit Testing](#Unit-Testing)
  - [Peer Code Review](#Peer-Code-Review)
  - [Student Checklist](#Student-Checklist)
- [Solved Issues](#Solved-Issues)

## Automated Testing

### Validation

Generated **HTML** and **CSS** code were validated with the W3C Markup and CSS validators. Both were found to have no errors or warnings. Reports can be seen below:

<details>
<summary><b>HTML</b></summary>

[home page](design/testing/html_validation/homepage.pdf)

[category pages](design/testing/html_validation/category_pages.pdf)

[profile page](design/testing/html_validation/profile.pdf)

[events list](design/testing/html_validation/events.pdf)

[event details](design/testing/html_validation/event_details.pdf)

[edit events](design/testing/html_validation/edit_events.pdf)

[basket](design/testing/html_validation/basket.pdf)

[checkout](design/testing/html_validation/checkout.pdf)

[checkout success](design/testing/html_validation/checkout_success.pdf)

</details>

<details>
<summary><b>CSS</b></summary>

[base.css](design/testing/css_validation/base_css.pdf)
[events.css](design/testing/css_validation/events_css.pdf)
[checkout.css](design/testing/css_validation/checkout_css.pdf)

</details>

**JavaScript** code was run through [JSHint](https://jshint.com/) to ensure they were syntactically correct. Any errors were corrected and linting re-run until correct.

Pylint was used to verify **Python** code. Any errors were corrected and re-run until correct. In some cases, where linting errors were erroneous or unavoidable these were suppressed. Files generated by django and unit tests were ignored.

A helper script has been provided to simplify running linting on the project code.
It can be run by typing: `. ./run_linter.sh` from the project root.

<details>
<summary><b>Linting report</b></summary>

Testing TWCoulsdon

--------------------------------------------------------------------
Your code has been rated at 10.00/10 (previous run: 10.00/10, +0.00)

Testing core app

------------------------------------
Your code has been rated at 10.00/10

Testing home app

--------------------------------------------------------------------
Your code has been rated at 10.00/10 (previous run: 10.00/10, +0.00)

Testing events app

--------------------------------------------------------------------
Your code has been rated at 10.00/10 (previous run: 10.00/10, +0.00)

Testing profiles app

--------------------------------------------------------------------
Your code has been rated at 10.00/10 (previous run: 10.00/10, +0.00)

Testing boxoffice app

--------------------------------------------------------------------
Your code has been rated at 10.00/10 (previous run: 10.00/10, +0.00)

</details>


#### Google lighthouse

<details>

<summary>Google Chrome's <b>lighthouse</b> was also run and provided the following reports:</summary>

</details>

### Python unit tests

Automated unit tests were created to ensure correct functioning of various components. These include the app database models, views, queries and helper functions.
To perform automated testing, from the project root directory type:
`>python3 manage.py test`

## Manual Testing

### Testing Environments

Primary iterative testing was undertaken on a Linux desktop machine with the Firefox browser. Once a feature was considered complete it was tested in other environments.

**Desktop testing**

- Platforms:
  - Custom Desktop (Windows 10, Ubuntu 20.10)
  - Microsoft SurfaceBook 2 (Windows 10)
  - Apple MacBook Air M1 (macOS Big Sur 11.2.3)
- Browsers:
  - Google Chrome/Chromium
  - Microsoft Edge
  - Firefox
  - Opera
  - Safari

**Tablet testing**

- Platforms:
  - Lenovo Tab M10 (Android 10)
- Browsers:
  - Google Chrome
  - Firefox
  - Opera

**Mobile testing**

- Platforms:
  - OnePlus7 (Android 11)
  - Samsung Galaxy J6 (Android 10)
- Browsers:
  - Chrome
  - FireFox
  - Opera

### Testing Methodology

Code changes were tested prior to committing and pushing to github on the local machine. This was in an attempt to prevent faulty or broken code from being pushed to the repository or deployed to the live site. Further, new features were pushed to a separate branch, which wasn't merged to main and deployed to the live site until tested. On occasions where bugs were missed in testing an issue was opened on github if appropriate. Issues were not raised for bugs arising from known feature incomplete code committed to github, as this information was captured in the coding to-do lists. This approach kept most bugs from being uploaded, with only a few cases of bugs either too complex to be fixed for the current release, or those that introduced regressions in existing code being uploaded.

### Unit Testing

Manual unit testing was conducted iteratively by attempting to "break" new code. In this way most bugs were caught and fixed before committing to the repository and live site.

The python print() and JavaScript console.log functions were used to output variable values and breakpoints during development to give hints to where faults were occurring and why.

Final UI testing was conducted prior to submission to confirm the UI fulfilled the required user stories:


### Peer Code Review

The project was submitted for peer review on the code institute slack [channel](https://code-institute-room.slack.com/archives/CGWQJQKC5/p1622241547133500).

### Student Checklist

A Final sanity check was done with the student check list to ensure the site fits submission guidelines.

## Solved Issues

- [BUG][US402]Adding new ticket types to an existing date adds to existing line

    fixed in commit [921c300](https://github.com/seanyoung247/TWCoulsdon/commit/921c300d89ce34bc3868289ecb0741c2ae559df3)
- [BUG][US406] Order total not saved

    fixed in commit [d5d93e9](https://github.com/seanyoung247/TWCoulsdon/commit/d5d93e9941d6b12d38511bd581ef7809d5b2d2c0)

- [BUG][US102] Location pin not showing on venue map
    fixed in commit [80a1b12](https://github.com/seanyoung247/TWCoulsdon/commit/80a1b121b58f84bae1c267999f443452ec96c561)

- [BUG][US502-US503]Error loading eventlist
    fixed in commit [cd90b50](https://github.com/seanyoung247/TWCoulsdon/commit/cd90b50d8206fc202af83b4f4a9903d576679b8a)

- [BUG]Boxoffice queries return 0 available tickets when no tickets sold
    fixed in commit [48d7c67](https://github.com/seanyoung247/TWCoulsdon/commit/48d7c67bee6821711f250a2f65fa22a7fffb8339)

## Known Issues

None known.